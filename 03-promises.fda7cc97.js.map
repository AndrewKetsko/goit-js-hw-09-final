{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAuCA,SAASC,EAAcC,EAAUC,GACjC,IAAMC,EAAgBC,KAAKC,SAAW,GACpC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC7BC,YAAW,WACPN,EACFI,EAAQ,CAAEN,WAAUC,UAEpBM,EAAO,CAAEP,WAAUC,S,GAElBA,E,IA9CLQ,OAASC,SAASC,cAAc,QAChCC,SAAWF,SAASC,cAAc,UAElCF,OAAOI,iBAAiB,UAExB,SAAkBC,GAChBA,EAAEC,iBACFH,SAASI,UAAUC,IAAI,WACvB,IAA6DC,EAAfJ,EAAEK,cAAxCC,SAAYC,EAAKH,EAALjB,MAAOqB,EAAIJ,EAAJI,KAAMC,EAAML,EAANK,OAM7BC,GAAaH,EAAMI,MACjBC,EAAa,GAEnB,IAAKC,EAAI,EAAGA,EAAIJ,EAAOE,MAAOE,GAAK,EAAG,CAEpCH,GAAaH,EAAMI,MAAQH,EAAKG,MAAQE,EAExC,IAAIC,EAAqB7B,EAAc4B,EAAI,EAAGH,GAC3CK,MAAK,SAAAC,G,IAAG9B,EAAQ8B,EAAR9B,SAAUC,EAAK6B,EAAL7B,MACjBJ,EAAAkC,OAAOC,QAAQ,uBAAwCC,OAAfjC,EAAS,QAAYiC,OAANhC,EAAM,O,IAE9DiC,OAAM,SAAAJ,G,IAAG9B,EAAQ8B,EAAR9B,SAAUC,EAAK6B,EAAL7B,MAClBJ,EAAAkC,OAAOI,QAAQ,sBAAqCF,OAAfjC,EAAS,QAAYiC,OAANhC,EAAM,O,IAE9DyB,EAAWU,KAAKR,E,CAGlBvB,QAAQgC,IAAIX,GACTY,SAAQ,W,OAAM9B,YAAW,WACxBI,SAASI,UAAUuB,OAAO,U,GAAY,I","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nformEl = document.querySelector('form');\nbuttonEl = document.querySelector('button');\n\nformEl.addEventListener('submit', submitFn);\n\nfunction submitFn(e) {\n  e.preventDefault();\n  buttonEl.classList.add('disable')\n  const { elements: { delay, step, amount } } = e.currentTarget;\n  \n  // console.log(+delay.value);\n  // console.log(+step.value);\n  // console.log(+amount.value);\n\n  let fullDelay = +delay.value;\n  const promiseArr = [];\n  \n  for (i = 0; i < amount.value; i += 1) {\n\n    fullDelay = +delay.value + step.value * i;\n    \n    let currentPromiseLink = createPromise(i + 1, fullDelay)\n      .then(({ position, delay }) => {\n        Notify.success(`✅ Fulfilled promise ${position} in ${delay} ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notify.failure(`❌ Rejected promise ${position} in ${delay} ms`);\n      });\n    promiseArr.push(currentPromiseLink);\n  }\n\n  Promise.all(promiseArr)\n    .finally(() => setTimeout(() => {\n      buttonEl.classList.remove('disable')},1000))\n};\n\n\nfunction createPromise(position, delay) {\nconst shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n  setTimeout(() => {\n  if (shouldResolve) {\n    resolve({ position, delay });\n  } else {\n    reject({ position, delay });\n  }\n  }, delay);\n   });\n };\n\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","formEl","document","querySelector","buttonEl","addEventListener","e","preventDefault","classList","add","_elements","currentTarget","elements","delay1","step","amount","fullDelay","value","promiseArr","i","currentPromiseLink","then","param","Notify","success","concat","catch","failure","push","all","finally","remove"],"version":3,"file":"03-promises.fda7cc97.js.map"}